WebSockets  programming

======================================================================
======================================================================
======================================================================
ОШИБКА
===========

Не работает простейшее приложение с аннотациями

----------------------------------
код JAVA класса
----------------------------------
@ServerEndpoint(value="/runner")   // implement a WebSocket server using the @ServerEndpoint annotation
public class Runner {

   private Session session;

    @OnOpen
    public void connect(Session session) {
        this.session = session;
        System.out.printf("opend");
    }

    @OnClose
    public void close() {
        this.session = null;
        System.out.printf("Closed");
    }

    @OnMessage
    public void onMessage(String msg) {
        System.out.println("msg = " + msg);
		this.session.getAsyncRemote().sendText("Echo" + msg);
        
		
    }
----------------------------------
Код index.html
----------------------------------
<body>

<script>
    var socket = new WebSocket("ws://localhost:8080/ws/runner");
    socket.onmessage = function (event) {
        alert(event.data);
    };
</script>

<button onclick="socket.send('hey')">send</button>
</body>
----------------------------------


in Chrome Browser log:  "WebSocket is already in CLOSING or CLOSED state."
in firefox log:   Firefox can't establish a connection to the server at ws://localhost:8080/ws/runner.  


===========

ЧТО СДЕЛАЛ
===========
 
  var socket = new WebSocket("ws://localhost:8080/ws/runner/");
    socket.onmessage = function (event) {
        alert(event.data);
    };
 
======================================================================
======================================================================
======================================================================

======================================================================
======================================================================
======================================================================
ОШИБКА
===========

Exception in thread "main" java.lang.NoClassDefFoundError: org/junit/runner/JUni

===========

ЧТО СДЕЛАЛ
===========
 
  remove scope "test"  from  Junit dependencie
  
  
 
======================================================================
======================================================================
======================================================================

======================================================================
======================================================================
======================================================================
ОШИБКА
===========

  


===========

ЧТО СДЕЛАЛ
===========
 
 
 
======================================================================
======================================================================
======================================================================

======================================================================
======================================================================
======================================================================
ОШИБКА
===========

  


===========

ЧТО СДЕЛАЛ
===========
 
 
 
======================================================================
======================================================================
======================================================================

======================================================================
======================================================================
======================================================================
ОШИБКА
===========

  


===========

ЧТО СДЕЛАЛ
===========
 
 
 
======================================================================
======================================================================
======================================================================

======================================================================
======================================================================
======================================================================
ОШИБКА
===========

  


===========

ЧТО СДЕЛАЛ
===========
 
 
 
======================================================================
======================================================================
======================================================================

======================================================================
======================================================================
======================================================================
ОШИБКА
===========

  


===========

ЧТО СДЕЛАЛ
===========
 
 
 
======================================================================
======================================================================
======================================================================

======================================================================
======================================================================
======================================================================
ОШИБКА
===========

  


===========

ЧТО СДЕЛАЛ
===========
 
 
 
======================================================================
======================================================================
======================================================================

======================================================================
======================================================================
======================================================================
ОШИБКА
===========

  


===========

ЧТО СДЕЛАЛ
===========
 
 
 
======================================================================
======================================================================
======================================================================

======================================================================
======================================================================
======================================================================
ОШИБКА
===========

  


===========

ЧТО СДЕЛАЛ
===========
 
 
 
======================================================================
======================================================================
======================================================================

======================================================================
======================================================================
======================================================================
ОШИБКА
===========

  


===========

ЧТО СДЕЛАЛ
===========
 
 
 
======================================================================
======================================================================
======================================================================

======================================================================
======================================================================
======================================================================
ОШИБКА
===========

  


===========

ЧТО СДЕЛАЛ
===========
 
 
 
======================================================================
======================================================================
======================================================================

======================================================================
======================================================================
======================================================================
ОШИБКА
===========

  


===========

ЧТО СДЕЛАЛ
===========
 
 
 
======================================================================
======================================================================
======================================================================

======================================================================
======================================================================
======================================================================
ОШИБКА
===========

  


===========

ЧТО СДЕЛАЛ
===========
 
 
 
======================================================================
======================================================================
======================================================================

======================================================================
======================================================================
======================================================================
ОШИБКА
===========

  


===========

ЧТО СДЕЛАЛ
===========
 
 
 
======================================================================
======================================================================
======================================================================

======================================================================
======================================================================
======================================================================
ОШИБКА
===========

  


===========

ЧТО СДЕЛАЛ
===========
 
 
 
======================================================================
======================================================================
======================================================================

